<!DOCTYPE html>
<html>
<head>
    <title>Scute Swarm Calculator</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#1976d2">
    <link rel="icon" href="/static/scuteswarm.png">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }
        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .top-row {
            display: flex;
            flex: 1;
        }
        .section {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
        }
        
        .tan {
            background-image: url('{{ url_for("static", filename="lands.jpg") }}');
            background-size: cover;
            background-position: center;
        }
        .blue {
            background-color: #2196F3;
            color: white;
            text-align: center;
            font-size: 1.5em;
        }
        .green {
            background-image: url('{{ url_for("static", filename="scuteswarm.png") }}');
            background-size: cover;
            background-position: center;
}
        .result {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .input-group {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            opacity: .7;
        }
        .input-label {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .input-group button {
            width: 20%;
            height: 50%;
            font-size: 2em;
            border: none;
            background-color: #555;
            color: white;
        }
        .input-group input[type="number"] {
            width: 50%;
            height: 50%;
            font-size: 2em;
            text-align: center;
            appearance: textfield;
            -moz-appearance: textfield;
        }
        .input-group input::-webkit-outer-spin-button,
        .input-group input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        button {
            height: 50px;
            width: 100%;
            font-size: 1.2em;
            background-color: #333;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #555;
        }
    </style>
    <script>
    function increment(id) {
        const input = document.getElementById(id);
        const value = parseInt(input.value, 10);
        input.value = isNaN(value) ? 1 : value + 1;
    }
    function decrement(id) {
        const input = document.getElementById(id);
        const value = parseInt(input.value, 10);
        input.value = isNaN(value) || value <= 0 ? 0 : value - 1;
    }
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/static/service-worker.js');
      });
    }
</script>
</head>
<body>
    <form method="post" class="container">
        <div class="top-row">
            <div class="section green" bg-image="templates/img/scute_swarm.jpg">
                <div class="input-group">
                    <button type="button" onclick="decrement('initial')">-</button>
                    <input id="initial" type="number" name="initial" placeholder="Scute Swarms" value="{{ final_swarms }}" required>
                    <button type="button" onclick="increment('initial')">+</button>
                </div>
            </div>

            <div class="section tan">      
                <div class="input-group">
                    <button type="button" onclick="decrement('lands')">-</button>
                    <input id="lands" type="number" name="lands" placeholder="Lands Played" value="0" required>
                    <button type="button" onclick="increment('lands')">+</button>
                </div> 
                </div>           
        </div>
        <div class="section blue result">
            {% if final_swarms is not none %}
                You will have {{ "{:,}".format(final_swarms) }} Scute Swarms.
            {% endif %}
        </div>
        <button type="submit">Calculate</button>
    </form>
</body>
</html>
